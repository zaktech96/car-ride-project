---
title: Architecture
description: System design and technical architecture
icon: Network
---

import { Callout } from 'fumadocs-ui/components/callout';

<Callout title="Demo Only" type="info">
  This is a dummy documentation page for demo purposesâ€”there's no real product idea here. Content is placeholder and not based on an actual project.
</Callout>

Document your system architecture, tech stack decisions, and infrastructure design.

## System Overview

<Warning>
Customize this architecture documentation for your specific project!
</Warning>

### High-Level Architecture

Describe the overall system architecture:

<Mermaid
  chart="
graph TB
    Client[Client Browser]
    Frontend[Frontend - React Router v7]
    Backend[Backend - Convex]
    Auth[Auth - Clerk]
    Database[(Database - Convex)]
    Payments[Payments - Polar.sh]
    Email[Email - Resend]
    
    Client --> Frontend
    Frontend --> Backend
    Frontend --> Auth
    Backend --> Database
    Backend --> Payments
    Backend --> Email
    Auth --> Backend
    
    style Client fill:#64748b,stroke:#334155,color:#fff
    style Frontend fill:#f59e0b,stroke:#d97706,color:#fff
    style Backend fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style Auth fill:#10b981,stroke:#059669,color:#fff
    style Database fill:#eab308,stroke:#ca8a04,color:#fff
    style Payments fill:#ec4899,stroke:#db2777,color:#fff
    style Email fill:#14b8a6,stroke:#0d9488,color:#fff
"
/>

### Tech Stack

#### Frontend
- **Framework**: React Router v7
- **Styling**: TailwindCSS v4
- **State Management**: React Router loaders/actions
- **UI Components**: shadcn/ui
- **Icons**: Lucide React, Tabler Icons

#### Backend
- **Database**: Convex (real-time, serverless)
- **Authentication**: Clerk
- **Payments**: Polar.sh
- **Email**: Resend (via Convex)
- **AI**: OpenAI (if enabled)

#### Infrastructure
- **Hosting**: Railway
- **CDN**: Railway Edge Network
- **Monitoring**: Sentry (via Convex Pro)

## Data Flow

### Authentication Flow

1. User clicks "Sign In"
2. Clerk modal opens
3. User authenticates
4. Clerk redirects with JWT
5. Convex validates JWT
6. User data synced to Convex

### Payment Flow

1. User selects subscription plan
2. Polar checkout initiated
3. User completes payment
4. Polar webhook sent to Convex
5. Subscription status updated
6. User access granted

## API Design

### Convex Functions

#### Queries (Read Operations)

```typescript
// Example query structure
export const getUser = query({
  args: { userId: v.id("users") },
  returns: v.object({ ... }),
  handler: async (ctx, args) => {
    // Query logic
  },
});
```

#### Mutations (Write Operations)

```typescript
// Example mutation structure
export const updateProfile = mutation({
  args: { name: v.string() },
  returns: v.null(),
  handler: async (ctx, args) => {
    // Mutation logic
  },
});
```

#### Actions (External APIs)

```typescript
// Example action structure
export const sendEmail = action({
  args: { to: v.string(), subject: v.string() },
  returns: v.null(),
  handler: async (ctx, args) => {
    // Action logic with external API calls
  },
});
```

## Security Considerations

### Authentication & Authorization

- JWT-based authentication via Clerk
- Role-based access control (if applicable)
- Session management
- API route protection

### Data Protection

- HTTPS everywhere
- Environment variable encryption
- Input validation and sanitization
- Rate limiting on sensitive endpoints

## Performance Optimization

### Frontend

- Code splitting
- Lazy loading
- Image optimization
- Caching strategy

### Backend

- Database indexing
- Query optimization
- Caching layer
- Connection pooling

## Scalability Plan

### Current Capacity

- Expected concurrent users: X
- Database size limit: X
- API request limit: X

### Scaling Strategy

- **Vertical**: Upgrade Convex/Railway plans
- **Horizontal**: Add CDN, caching layers
- **Database**: Convex automatically scales

## Deployment Architecture

### Development Environment

- Local development server
- Test database (Convex dev deployment)
- Test payment environment (Polar test mode)

### Production Environment

- Railway production deployment
- Production Convex deployment
- Production Clerk application
- Production Polar organization

## Monitoring & Logging

### Error Tracking

- Sentry integration via Convex Pro
- Frontend error boundaries
- API error logging

### Analytics

- User behavior tracking
- Performance monitoring
- Conversion funnel analysis

## Disaster Recovery

### Backup Strategy

- Convex automatic backups
- Export/import capabilities
- Point-in-time recovery

### Incident Response

1. Detect issue (monitoring alerts)
2. Assess impact
3. Implement fix or rollback
4. Post-mortem documentation